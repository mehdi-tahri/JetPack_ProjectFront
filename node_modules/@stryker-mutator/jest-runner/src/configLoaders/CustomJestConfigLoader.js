"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var path = require("path");
var fs = require("fs");
/**
 * The Default config loader will load the Jest configuration using the package.json in the package root
 */
var CustomJestConfigLoader = /** @class */ (function () {
    function CustomJestConfigLoader(projectRoot, _loader) {
        if (_loader === void 0) { _loader = require; }
        this._loader = _loader;
        this._projectRoot = projectRoot;
    }
    CustomJestConfigLoader.prototype.loadConfig = function () {
        var jestConfig = this.readConfigFromJestConfigFile() || this.readConfigFromPackageJson() || {};
        return jestConfig;
    };
    CustomJestConfigLoader.prototype.readConfigFromJestConfigFile = function () {
        try {
            return this._loader(path.join(this._projectRoot, 'jest.config.js'));
        }
        catch ( /* Don't return anything (implicitly return undefined) */_a) { /* Don't return anything (implicitly return undefined) */ }
    };
    CustomJestConfigLoader.prototype.readConfigFromPackageJson = function () {
        try {
            return JSON.parse(fs.readFileSync(path.join(this._projectRoot, 'package.json'), 'utf8')).jest;
        }
        catch ( /* Don't return anything (implicitly return undefined) */_a) { /* Don't return anything (implicitly return undefined) */ }
    };
    return CustomJestConfigLoader;
}());
exports.default = CustomJestConfigLoader;
//# sourceMappingURL=CustomJestConfigLoader.js.map