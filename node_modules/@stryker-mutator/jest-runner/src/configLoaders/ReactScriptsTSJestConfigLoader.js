"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var createReactJestConfig_1 = require("../utils/createReactJestConfig");
var path = require("path");
var ReactScriptsTSJestConfigLoader = /** @class */ (function () {
    function ReactScriptsTSJestConfigLoader(projectRoot, loader) {
        this.loader = loader || /* istanbul ignore next */ require;
        this.projectRoot = projectRoot;
    }
    ReactScriptsTSJestConfigLoader.prototype.loadConfig = function () {
        // Get the location of react-ts script, this is later used to generate the Jest configuration used for React projects.
        var reactScriptsTsLocation = path.join(this.loader.resolve('react-scripts-ts/package.json'), '..');
        // Create the React configuration for Jest
        var jestConfiguration = this.createJestConfig(reactScriptsTsLocation);
        // Set test environment to jsdom (otherwise Jest won't run)
        jestConfiguration.testEnvironment = 'jsdom';
        return jestConfiguration;
    };
    ReactScriptsTSJestConfigLoader.prototype.createJestConfig = function (reactScriptsTsLocation) {
        return createReactJestConfig_1.createReactTsJestConfig(function (relativePath) { return path.join(reactScriptsTsLocation, relativePath); }, this.projectRoot, false);
    };
    return ReactScriptsTSJestConfigLoader;
}());
exports.default = ReactScriptsTSJestConfigLoader;
//# sourceMappingURL=ReactScriptsTSJestConfigLoader.js.map